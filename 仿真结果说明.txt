图1：

模块说明：该模块实现与上一模块与下一模块的握手协议。slave模块（module bus）向上一级master模块发出请求信号ready==1后，master模块发出有效数据data与数据有效信号valid==1【图中信号2~4】；module bus处理data并将结果保存在ram中（在本项目中无处理保存data），等待下一级的ready==1请求【图中信号5~7】；收到下一级的ready==1请求后，向ram中按顺序取出数据【截图中信号8~11】；该ram模块读取为延后两周期输出，向下一级输出data与valid==1，同时将向上一级发出的ready信号置1.【图中信号4,12~13】；此时模块回到开始状态，即对上级发出ready==1信号，等待上级新的data与valid==1信号，新一轮数据处理与RAM存取后，等待下级的ready==1信号。

命名说明：
与上一模块交互的I/O信号为a_x，与下一模块交互的I/O信号为b_x

图2：
为接收不满足时序的I/O信号，使用寄存器，输出延迟原信号一拍的新信号代替原信号。

/*yinjiamin
May 30, 2022
email:969633962@qq.com
all for free*/